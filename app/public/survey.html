<!DOCTYPE html>
<html>

<head>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>
    <script src='https://code.jquery.com/jquery.js'></script>
    <!-- <script defer src='https://use.fontawesome.com/releases/v5.0.6/js/all.js'></script> -->
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>
    <!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js'></script>  -->
    <!-- Font Awesome Glyphicons -->
    <!-- <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css'> -->


</head>

<body>
    <div class='container'>
        <h3>About You</h3>
        <h4>Name (Required):</h4>
        <input type="text" class="form-control" id="friend-name" placeholder="first and last name">
        <h4>Selfie Photo Image (Required):</h4>
        <input type="text" class="form-control" id="friend-photo" placeholder="image URL">
        <hr>
        <h4>
            <strong>1 = stongly disagree and 5 = strongly agree</strong>

            <h3>
                <strong>Question 1</strong>
            </h3>
            <h4>I would agree that a graceful way of concluding a friendly dinner, is to give your furry friend the table scraps.</h4>
            <select data-placeholder='' class='chosen-select' id='q1'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 2</strong>
            </h3>
            <h4>Most Saturdays, I feel like a weekend warrior. I want a furry friend that can keep up with me on trails and on the lake.</h4>
            <select data-placeholder='' class='chosen-select' id='q2'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 3</strong>
            </h3>
            <h4>Most of my weekends I prefer lounging in front of a big flat screen tv and want a pet that can lounge and chill.</h4>
            <select data-placeholder='' class='chosen-select' id='q3'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 4</strong>
            </h3>
            <h4>My kids have boundless energy and need a passive pet with stamina.</h4>
            <select data-placeholder='' class='chosen-select' id='q4'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 5</strong>
            </h3>
            <h4>I want a pet that enjoys the city life.</h4>
            <select data-placeholder='' class='chosen-select' id='q5'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 6</strong>
            </h3>
            <h4>I'm looking for a pet that can round up sheep and cattle.</h4>
            <select data-placeholder='' class='chosen-select' id='q6'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 7</strong>
            </h3>
            <h4>I believe pets feel great when they pretend to be vampires and reindeer. They do feel great when their dressed in style. 
                up once a month.</h4>
            <select data-placeholder='' class='chosen-select' id='q7'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 8</strong>
            </h3>
            <h4>I want a pet that can be a companion and pal to the pets I already have.</h4>
            <select data-placeholder='' class='chosen-select' id='q8'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 9</strong>
            </h3>
            <h4>I prefer a furry friend that loves to travel and fits into my carry-on bag. </h4>
            <select data-placeholder='' class='chosen-select' id='q9'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>


            <h3>
                <strong>Question 10</strong>
            </h3>
            <h4>I'm looking for a giant furry friend to act like a watch dog.</h4>
            <select data-placeholder='' class='chosen-select' id='q10'>
                <option value=''></option>
                <option value='1'>1 </option>
                <option value='2'>2</option>
                <option value='3'>3</option>
                <option value='4'>4</option>
                <option value='5'>5 </option>
            </select>
            <hr>
<div>
            <button type="submit" class="btn btn-primary submit">Submit</button>
</div>
            <p>
                <a class="btn btn-success btn-lg" id="submit" href="#" role="button">
                    <span class="glyphicon glyphicon-log-in" aria-hidden="true"></span> Submit</a>
            </p>
            <hr>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">We found you a friend</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <!-- $('#modal').on('shown.bs.modal', function () { $('#modal').focus(); });         -->

                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>




    <!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->


    <script>
        $(document).on("click", ".submit", function (event) {
            event.preventDefault();
            var name = $('#friend-name').val().trim();
            var photoURL = $('#friend-photo').val().trim();
            var ansLength = $('#q1').val().length + $('#q2').val().length + $('#q3').val().length + $('#q4').val().length + $('#q5').val().length + $('#q6').val().length + $('#q7').val().length + $('#q8').val().length + $('#q9').val().length + $('#q10').val().length;
            var surveyScore = [];
            for (let i = 0; i < 10; i++) {
                surveyScore.push($("#q" + (i + 1)).val());
    
            }
       
        var newFriend = {
                    name: name,
                    photo: photoURL,
                    scores: surveyScore
                };
            // post data to friends API
            $.post('/api/friends', newFriend, function (data) {
                $('.modal-title').html('Your Friend Match');
                $('.modal-body').html('<h4>' + data.name + '</h4><img src="' + data.photo + '" alt="selfie" height=300><p>');
                $('.modal').modal('show');
            });
        }); 

    </script>

</body>

</html>